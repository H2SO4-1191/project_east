<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Project East API Documentation</title>
<style>
    body {
        background: #0f0f0f;
        color: #e4e4e4;
        font-family: "Segoe UI", sans-serif;
        padding: 40px;
        line-height: 1.6;
    }
    h1, h2, h3 {
        color: #66ccff;
        margin-bottom: 10px;
    }
    .endpoint {
        border: 1px solid #333;
        padding: 20px;
        margin-bottom: 30px;
        background: #1a1a1a;
        border-radius: 8px;
    }
    .method {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-weight: bold;
        margin-bottom: 10px;
    }
    .get { background: #2f6fda; }
    .post { background: #1e8f4d; }
    .delete { background: #b32d2d; }
    .put { background: #b39b2d; }
    pre {
        background: #111;
        padding: 15px;
        border-radius: 6px;
        overflow-x: auto;
        border: 1px solid #222;
    }
    code { color: #9cdcfe; }
    .section-title {
        color: #ffaa44;
        margin-top: 20px;
    }
</style>
</head>
<body>
<h1>Project East API Documentation</h1>
<p>BASE URL - https://projecteastapi.ddns.net/</p>

<h2>REGISTRATION</h2>
<div class="endpoint">
    <h3>/registration/signup/</h3>
    <span class="method post">POST</span>
    <p><strong>Auth Required:</strong> No</p>

    <h4 class="section-title">Request Body</h4>
    <pre><code>{
  "username": "john123",
  "email": "john@example.com",
  "first_name": "John",
  "last_name": "Doe",
  "user_type": "institution | lecturer | student"
}</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "user_id": 12,
  "message": "Account registered successfully."
}</code></pre>

    <h4 class="section-title">Failure Response</h4>
    <pre><code>{
  "success": false,
  "errors": {
    "email": ["Email already exists."]
  }
}</code></pre>
</div>

<div class="endpoint">
    <h3>/registration/login/</h3>
    <span class="method post">POST</span>
    <p><strong>Auth Required:</strong> No</p>

    <h4 class="section-title">Request Body</h4>
    <pre><code>{
  "email": "john@example.com"
}</code></pre>

    <h4 class="section-title">Success Response (OTP sent)</h4>
    <pre><code>{
  "success": true,
  "message": "An OTP code had been sent through email to 'john@example.com'"
}</code></pre>

    <h4 class="section-title">Failure (cooldown)</h4>
    <pre><code>{
  "success": false,
  "message": "An OTP code had been already sent, try again after 120 seconds."
}</code></pre>
</div>

<div class="endpoint">
    <h3>/registration/otp/</h3>
    <span class="method post">POST</span>
    <p><strong>Auth Required:</strong> No</p>

    <h4 class="section-title">Request Body</h4>
    <pre><code>{
  "email": "john@example.com",
  "otp_code": "123456"
}</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "access": "jwt-access-token",
  "refresh": "jwt-refresh-token",
  "user_id": 12,
  "user_type": "institution"
}</code></pre>

    <h4 class="section-title">Failure Response</h4>
    <pre><code>{
  "success": false,
  "errors": {
    "otp_code": "Expired or invalid."
  }
}</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/is-verified/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "is_verified": true
}</code></pre>

    <h4 class="section-title">Example When Not Verified</h4>
    <pre><code>{
  "success": true,
  "is_verified": false
}</code></pre>
</div>


<h2>INSTITUTION ENDPOINTS</h2>

<div class="endpoint">
    <h3>/institution/total-students/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{ "success": true, "total_students": 34 }</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/total-lecturers/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{ "success": true, "total_lecturers": 12 }</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/total-staff/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{ "success": true, "total_staff": 5 }</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/active-students/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{ "success": true, "active_students": 18 }</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/active-lecturers/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>
</div>

<div class="endpoint">
    <h3>/institution/active-staff/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>
</div>


<h2>STUDENT LIST</h2>
<div class="endpoint">
    <h3>/institution/students-list/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Available Query Params</h4>
    <pre><code>?page=1
?active=true | false
?studying_level=bachelors</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "count": 42,
  "next": "/institution/students-list/?page=2",
  "previous": null,
  "results": [
    {
      "id": 22,
      "first_name": "Ali",
      "last_name": "Hassan",
      "email": "ali@example.com",
      "profile_image": "/media/ali/profile.jpg",
      "studying_level": "bachelors",
      "responsible_phone": "+964770000000",
      "active": true
    }
  ]
}</code></pre>
</div>

<h2>LECTURER LIST</h2>
<div class="endpoint">
    <h3>/institution/lecturers-list/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Available Query Params</h4>
    <pre><code>?page=1</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "count": 8,
  "next": "/institution/lecturers-list/?page=2",
  "previous": null,
  "results": [
    {
      "id": 14,
      "first_name": "Sarah",
      "last_name": "Khalid",
      "email": "sarah@example.com",
      "profile_image": "/media/sarah/profile.jpg",
      "specialty": "Computer Science",
      "experience": 5,
      "active": true,
      "phone_number": "+964770000000"
    }
  ]
}</code></pre>
</div>

<h2>STAFF LIST</h2>
<div class="endpoint">
    <h3>/institution/staff-list/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Available Query Params</h4>
    <pre><code>?page=1</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "count": 12,
  "next": "/institution/staff-list/?page=2",
  "previous": null,
  "results": [
    {
      "id": 9,
      "first_name": "Omar",
      "last_name": "Saleh",
      "personal_image": "/media/omar/staff/photo.jpg",
      "duty": "Administrator",
      "phone_number": "+964770111111",
      "salary": 800,
      "is_active": true
    }
  ]
}</code></pre>
</div>

<h2>SCHEDULE</h2>
<div class="endpoint">
    <h3>/institution/schedule/</h3>
    <span class="method get">GET</span>
    <p><strong>Auth Required:</strong> Yes (Institution only)</p>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "schedule": {
    "monday": [
      {
        "course_id": 12,
        "course_title": "Mathematics",
        "lecturer": "Sarah Khan",
        "start_time": "09:00",
        "end_time": "11:00"
      }
    ],
    "tuesday": [],
    "wednesday": [],
    "thursday": [],
    "friday": [],
    "saturday": [],
    "sunday": []
  }
}</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/institution-verify/</h3>
    <span class="method put">PUT</span>
    <p><strong>Auth Required:</strong> Yes (Institution only, must NOT be verified yet)</p>

    <h4 class="section-title">Request Body</h4>
    <pre><code>{
  "title": "Modern Science Institute",
  "location": "Baghdad",
  "phone_number": "+9647700000000",
  "about": "Leading educational center.",
  "profile_image": "(file)",
  "idcard_back": "(file)",
  "idcard_front": "(file)",
  "residence_front": "(file)",
  "residence_back": "(file)"
}</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "message": "Institution account verified successfully.",
  "is_verified": true
}</code></pre>

    <h4 class="section-title">Failure Response</h4>
    <pre><code>{
  "success": false,
  "errors": {
    "phone_number": ["This field is required."]
  }
}</code></pre>
</div>

<div class="endpoint">
    <h3>/institution/edit-profile/</h3>
    <span class="method put">PUT</span>
    <p><strong>Auth Required:</strong> Yes (Institution only, must be verified)</p>

    <h4 class="section-title">Notes</h4>
    <ul>
        <li>Email cannot be changed.</li>
        <li>Username can be changed but must be unique.</li>
        <li>All institution & user fields except email are editable.</li>
    </ul>

    <h4 class="section-title">Request Body</h4>
    <pre><code>{
  "username": "new_institution123",
  "title": "Updated Institution Title",
  "location": "Updated Location",
  "phone_number": "+9647701111111",
  "about": "Updated institution description.",
  "profile_image": "(file)",
  "idcard_back": "(file)",
  "idcard_front": "(file)",
  "residence_front": "(file)",
  "residence_back": "(file)"
}</code></pre>

    <h4 class="section-title">Success Response</h4>
    <pre><code>{
  "success": true,
  "message": "Institution profile updated successfully."
}</code></pre>

    <h4 class="section-title">Failure Response</h4>
    <pre><code>{
  "success": false,
  "errors": {
    "phone_number": ["This field is required."],
    "about": ["This field is required."],
    "profile_image": ["This field is required."],
    "idcard_back": ["This field is required."],
    "idcard_front": ["This field is required."],
    "residence_front": ["This field is required."],
    "residence_back": ["This field is required."]
  }
}</code></pre>
</div>


</body>
</html>
